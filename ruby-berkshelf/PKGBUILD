# Maintainer: Alfredo Palhares <masterkorp@masterkorp.net>

_gemname=berkshelf
pkgname=ruby-$_gemname
pkgver=2.0.10
pkgrel=3
pkgdesc="Manages a Cookbook's, or an Application's, Cookbook dependencies"
arch=('any')
url="http://berkshelf.com"
license=('Apache')
depends=(
  'ruby'
  'ruby-activesupport>=3.2.0'
  'ruby-addressable>=2.3.4'
  'ruby-buff-shell_out>=0.1'
  'ruby-chozo>=0.6.1'
  'ruby-faraday>=0.8.5'
  'ruby-hashie>=2.0.2'
  'ruby-minitar-0.5.4'
  'ruby-retryable>=1.3.3'
  'ruby-ridley-1.5.3'
  'ruby-solve>=0.5.0'
  'ruby-thor>=0.18.0'
  'ruby-rbzip2>=0.2.0'
  'ruby-celluloid-0.14.1'
  'ruby-celluloid-io-0.14.1'
)
makedepends=('rubygems')
source=(http://rubygems.org/downloads/$_gemname-$pkgver.gem)
noextract=($_gemname-$pkgver.gem)
sha1sums=('56c8e1a01bb052de3aa3e88a219ffaaf8e278d42')

package() {
  cd "$srcdir"
  local _gemdir="$(ruby -e'puts Gem.default_dir')"
  gem install --ignore-dependencies --no-user-install -i "$pkgdir$_gemdir" -n "$pkgdir/usr/bin" $_gemname-$pkgver.gem
}
