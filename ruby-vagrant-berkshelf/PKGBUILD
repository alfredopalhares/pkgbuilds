# Maintainer: Alfredo Palhares <masterkorp@masterkorp.net>

_gemname=vagrant-berkshelf
pkgname=ruby-$_gemname
pkgver=1.3.4
pkgrel=1
pkgdesc="A Vagrant plugin to add Berkshelf integration to the Chef provisioners"
arch=('any')
url="http://berkshelf.com"
license=('Apache')
depends=('ruby' 'ruby-berkshelf>=2.0.7' 'ruby-activesupport>=3.2.0' 'ruby-activesupport<3.2.13' 'ruby-i18n>=0.6.0' 'ruby-net-ssh>=2.6.6' 'ruby-net-scp>=1.1.0')
makedepends=('rubygems')
source=(http://rubygems.org/downloads/$_gemname-$pkgver.gem)
noextract=($_gemname-$pkgver.gem)
md5sums=('c59e457494e18fa37870687017ed146d')
sha1sums=('2a485cfbb2c695ec8bac45c43ecfe20c99272735')

package() {
  cd "$srcdir"
  local _gemdir="$(ruby -e'puts Gem.default_dir')"
  gem install --ignore-dependencies --no-user-install -i "$pkgdir$_gemdir" -n "$pkgdir/usr/bin" $_gemname-$pkgver.gem
}
